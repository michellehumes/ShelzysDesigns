{%- comment -%}
  Shelzy's Designs - Article Template

  Individual blog post page with:
  - Featured image
  - Article content
  - Author and date
  - Tags
  - Social sharing
  - Related articles
  - Comment section (optional)
{%- endcomment -%}

{%- comment -%} Article Schema {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ article.title | escape }}",
  "image": "{{ article.image | image_url: width: 1200 }}",
  "datePublished": "{{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' }}",
  "dateModified": "{{ article.updated_at | date: '%Y-%m-%dT%H:%M:%S%z' }}",
  "author": {
    "@type": "Person",
    "name": "{{ article.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ shop.name }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ settings.logo | image_url }}"
    }
  },
  "description": "{{ article.excerpt_or_content | strip_html | truncate: 160 | escape }}"
}
</script>

<article class="sz-article-page">
  <div class="sz-article-container">

    {%- comment -%} Breadcrumbs {%- endcomment -%}
    {% render 'shelzys-breadcrumbs' %}

    {%- comment -%} Article Header {%- endcomment -%}
    <header class="sz-article-header">
      {%- comment -%} Tags {%- endcomment -%}
      {%- if article.tags.size > 0 -%}
        <div class="sz-article-tags">
          {%- for tag in article.tags -%}
            <a href="{{ blog.url }}/tagged/{{ tag | handle }}" class="sz-article-tag">{{ tag }}</a>
          {%- endfor -%}
        </div>
      {%- endif -%}

      <h1 class="sz-article-title">{{ article.title }}</h1>

      {%- comment -%} Meta {%- endcomment -%}
      <div class="sz-article-meta">
        <span class="sz-article-author">By {{ article.author }}</span>
        <span class="sz-meta-divider">|</span>
        <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
          {{ article.published_at | date: '%B %d, %Y' }}
        </time>
        {%- assign word_count = article.content | strip_html | number_of_words -%}
        {%- assign read_time = word_count | divided_by: 200 | plus: 1 -%}
        <span class="sz-meta-divider">|</span>
        <span class="sz-article-read-time">{{ read_time }} min read</span>
      </div>
    </header>

    {%- comment -%} Featured Image {%- endcomment -%}
    {%- if article.image -%}
      <div class="sz-article-featured-image">
        <img
          src="{{ article.image | image_url: width: 1200 }}"
          srcset="{{ article.image | image_url: width: 600 }} 600w,
                  {{ article.image | image_url: width: 900 }} 900w,
                  {{ article.image | image_url: width: 1200 }} 1200w"
          sizes="(max-width: 800px) 100vw, 800px"
          alt="{{ article.image.alt | default: article.title }}"
          loading="eager"
        >
      </div>
    {%- endif -%}

    {%- comment -%} Article Content {%- endcomment -%}
    <div class="sz-article-content">
      {{ article.content }}
    </div>

    {%- comment -%} Article Footer {%- endcomment -%}
    <footer class="sz-article-footer">

      {%- comment -%} Tags {%- endcomment -%}
      {%- if article.tags.size > 0 -%}
        <div class="sz-article-tags-footer">
          <span class="sz-tags-label">Tags:</span>
          {%- for tag in article.tags -%}
            <a href="{{ blog.url }}/tagged/{{ tag | handle }}" class="sz-article-tag">{{ tag }}</a>
          {%- endfor -%}
        </div>
      {%- endif -%}

      {%- comment -%} Social Share {%- endcomment -%}
      <div class="sz-article-share">
        <span class="sz-share-label">Share this article:</span>
        <div class="sz-share-buttons">
          <a
            href="https://www.facebook.com/sharer/sharer.php?u={{ shop.url }}{{ article.url }}"
            target="_blank"
            rel="noopener"
            class="sz-share-btn sz-share-facebook"
            aria-label="Share on Facebook"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
            </svg>
          </a>
          <a
            href="https://twitter.com/intent/tweet?url={{ shop.url }}{{ article.url }}&text={{ article.title | url_encode }}"
            target="_blank"
            rel="noopener"
            class="sz-share-btn sz-share-twitter"
            aria-label="Share on Twitter"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
            </svg>
          </a>
          <a
            href="https://pinterest.com/pin/create/button/?url={{ shop.url }}{{ article.url }}&media={{ article.image | image_url: width: 1200 }}&description={{ article.title | url_encode }}"
            target="_blank"
            rel="noopener"
            class="sz-share-btn sz-share-pinterest"
            aria-label="Share on Pinterest"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0a12 12 0 0 0-4.37 23.17c-.1-.94-.19-2.37.04-3.39l1.34-5.68s-.34-.68-.34-1.68c0-1.58.92-2.76 2.06-2.76.97 0 1.44.73 1.44 1.6 0 .98-.62 2.44-.94 3.8-.27 1.13.56 2.05 1.67 2.05 2 0 3.54-2.11 3.54-5.16 0-2.7-1.94-4.58-4.71-4.58-3.21 0-5.1 2.41-5.1 4.9 0 .97.38 2.01.84 2.57.09.11.1.21.08.33l-.32 1.29c-.05.2-.17.24-.38.14-1.41-.65-2.29-2.71-2.29-4.36 0-3.54 2.57-6.79 7.41-6.79 3.89 0 6.92 2.77 6.92 6.48 0 3.87-2.44 6.98-5.82 6.98-1.14 0-2.2-.59-2.57-1.29l-.7 2.66c-.25.98-.94 2.2-1.39 2.95A12 12 0 1 0 12 0z"/>
            </svg>
          </a>
          <a
            href="mailto:?subject={{ article.title | url_encode }}&body=Check out this article: {{ shop.url }}{{ article.url }}"
            class="sz-share-btn sz-share-email"
            aria-label="Share via Email"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
              <polyline points="22,6 12,13 2,6"/>
            </svg>
          </a>
        </div>
      </div>

    </footer>

    {%- comment -%} Comments Section {%- endcomment -%}
    {%- if blog.comments_enabled? -%}
      <section class="sz-article-comments">
        <h2 class="sz-comments-title">Comments ({{ article.comments_count }})</h2>

        {%- comment -%} Comment Form {%- endcomment -%}
        <div class="sz-comment-form-wrapper">
          {% form 'new_comment', article %}
            {%- if form.posted_successfully? -%}
              <div class="sz-comment-success">
                {%- if blog.moderated? -%}
                  <p>Your comment has been submitted and is awaiting moderation.</p>
                {%- else -%}
                  <p>Thank you for your comment!</p>
                {%- endif -%}
              </div>
            {%- endif -%}

            {%- if form.errors -%}
              <div class="sz-comment-errors">
                {{ form.errors | default_errors }}
              </div>
            {%- endif -%}

            <div class="sz-comment-form-row">
              <div class="sz-form-group">
                <label for="comment-author" class="sz-form-label">Name <span class="required">*</span></label>
                <input type="text" name="comment[author]" id="comment-author" class="sz-form-input" required value="{{ form.author }}">
              </div>
              <div class="sz-form-group">
                <label for="comment-email" class="sz-form-label">Email <span class="required">*</span></label>
                <input type="email" name="comment[email]" id="comment-email" class="sz-form-input" required value="{{ form.email }}">
              </div>
            </div>

            <div class="sz-form-group">
              <label for="comment-body" class="sz-form-label">Comment <span class="required">*</span></label>
              <textarea name="comment[body]" id="comment-body" class="sz-form-textarea" rows="4" required>{{ form.body }}</textarea>
            </div>

            <button type="submit" class="sz-btn sz-btn-primary">Post Comment</button>
          {% endform %}
        </div>

        {%- comment -%} Comments List {%- endcomment -%}
        {%- if article.comments_count > 0 -%}
          <div class="sz-comments-list">
            {%- paginate article.comments by 10 -%}
              {%- for comment in article.comments -%}
                <div class="sz-comment" id="comment-{{ comment.id }}">
                  <div class="sz-comment-header">
                    <span class="sz-comment-author">{{ comment.author }}</span>
                    <time datetime="{{ comment.created_at | date: '%Y-%m-%d' }}">
                      {{ comment.created_at | date: '%B %d, %Y' }}
                    </time>
                  </div>
                  <div class="sz-comment-body">
                    {{ comment.content }}
                  </div>
                </div>
              {%- endfor -%}

              {%- if paginate.pages > 1 -%}
                <nav class="sz-pagination sz-pagination-comments">
                  {{ paginate | default_pagination }}
                </nav>
              {%- endif -%}
            {%- endpaginate -%}
          </div>
        {%- endif -%}

      </section>
    {%- endif -%}

    {%- comment -%} Related Articles {%- endcomment -%}
    <section class="sz-related-articles">
      <h2 class="sz-related-title">You May Also Like</h2>
      <div class="sz-related-grid">
        {%- for related_article in blog.articles limit: 3 -%}
          {%- unless related_article.id == article.id -%}
            <article class="sz-related-card">
              <a href="{{ related_article.url }}" class="sz-related-link">
                <div class="sz-related-image">
                  {%- if related_article.image -%}
                    <img
                      src="{{ related_article.image | image_url: width: 400 }}"
                      alt="{{ related_article.title }}"
                      loading="lazy"
                    >
                  {%- else -%}
                    <div class="sz-related-placeholder"></div>
                  {%- endif -%}
                </div>
                <div class="sz-related-info">
                  <h3 class="sz-related-article-title">{{ related_article.title }}</h3>
                  <time datetime="{{ related_article.published_at | date: '%Y-%m-%d' }}">
                    {{ related_article.published_at | date: '%B %d, %Y' }}
                  </time>
                </div>
              </a>
            </article>
          {%- endunless -%}
        {%- endfor -%}
      </div>
    </section>

    {%- comment -%} Back to Blog {%- endcomment -%}
    <div class="sz-back-to-blog">
      <a href="{{ blog.url }}" class="sz-back-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="19" y1="12" x2="5" y2="12"/>
          <polyline points="12 19 5 12 12 5"/>
        </svg>
        Back to {{ blog.title }}
      </a>
    </div>

  </div>
</article>

<style>
  /* ═══════════════════════════════════════════════════════════════════
     ARTICLE PAGE STYLES
     ═══════════════════════════════════════════════════════════════════ */
  .sz-article-page {
    padding: var(--sz-space-xl) var(--sz-space-md);
    background: var(--sz-warm-white);
  }

  .sz-article-container {
    max-width: 800px;
    margin: 0 auto;
  }

  /* Article Header */
  .sz-article-header {
    text-align: center;
    margin-bottom: var(--sz-space-xl);
  }

  .sz-article-tags {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--sz-space-sm);
    margin-bottom: var(--sz-space-md);
  }

  .sz-article-tag {
    padding: 4px 12px;
    font-family: var(--sz-font-body);
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--sz-primary);
    text-decoration: none;
    border: 1px solid var(--sz-primary);
    border-radius: var(--sz-radius-full);
    transition: all var(--sz-transition-fast);
  }

  .sz-article-tag:hover {
    background: var(--sz-primary);
    color: var(--sz-white);
  }

  .sz-article-title {
    font-family: var(--sz-font-heading);
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 600;
    color: var(--sz-primary-dark);
    margin: 0 0 var(--sz-space-md) 0;
    line-height: 1.2;
  }

  .sz-article-meta {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: var(--sz-space-sm);
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-sm);
    color: var(--sz-gray);
  }

  .sz-meta-divider {
    color: var(--sz-border-light);
  }

  /* Featured Image */
  .sz-article-featured-image {
    margin-bottom: var(--sz-space-2xl);
    border-radius: var(--sz-radius-lg);
    overflow: hidden;
  }

  .sz-article-featured-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Article Content */
  .sz-article-content {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-lg);
    line-height: 1.8;
    color: var(--sz-charcoal);
  }

  .sz-article-content h2 {
    font-family: var(--sz-font-heading);
    font-size: var(--sz-text-2xl);
    font-weight: 600;
    color: var(--sz-primary-dark);
    margin: var(--sz-space-2xl) 0 var(--sz-space-lg) 0;
  }

  .sz-article-content h3 {
    font-family: var(--sz-font-heading);
    font-size: var(--sz-text-xl);
    font-weight: 600;
    color: var(--sz-primary-dark);
    margin: var(--sz-space-xl) 0 var(--sz-space-md) 0;
  }

  .sz-article-content p {
    margin: 0 0 var(--sz-space-lg) 0;
  }

  .sz-article-content ul,
  .sz-article-content ol {
    margin: 0 0 var(--sz-space-lg) 0;
    padding-left: var(--sz-space-xl);
  }

  .sz-article-content li {
    margin-bottom: var(--sz-space-sm);
  }

  .sz-article-content a {
    color: var(--sz-primary);
    text-decoration: underline;
  }

  .sz-article-content img {
    max-width: 100%;
    height: auto;
    border-radius: var(--sz-radius-md);
    margin: var(--sz-space-lg) 0;
  }

  .sz-article-content blockquote {
    margin: var(--sz-space-xl) 0;
    padding: var(--sz-space-lg) var(--sz-space-xl);
    background: var(--sz-beige);
    border-left: 4px solid var(--sz-primary);
    font-style: italic;
    border-radius: var(--sz-radius-sm);
  }

  /* Article Footer */
  .sz-article-footer {
    margin-top: var(--sz-space-2xl);
    padding-top: var(--sz-space-xl);
    border-top: 1px solid var(--sz-border-light);
  }

  .sz-article-tags-footer {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--sz-space-sm);
    margin-bottom: var(--sz-space-xl);
  }

  .sz-tags-label {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-sm);
    font-weight: 500;
    color: var(--sz-charcoal);
  }

  /* Social Share */
  .sz-article-share {
    display: flex;
    align-items: center;
    gap: var(--sz-space-md);
  }

  .sz-share-label {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-sm);
    font-weight: 500;
    color: var(--sz-charcoal);
  }

  .sz-share-buttons {
    display: flex;
    gap: var(--sz-space-sm);
  }

  .sz-share-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    color: var(--sz-white);
    transition: transform var(--sz-transition-fast);
  }

  .sz-share-btn:hover {
    transform: scale(1.1);
  }

  .sz-share-facebook { background: #1877F2; }
  .sz-share-twitter { background: #1DA1F2; }
  .sz-share-pinterest { background: #E60023; }
  .sz-share-email { background: var(--sz-charcoal); }

  /* Comments */
  .sz-article-comments {
    margin-top: var(--sz-space-2xl);
    padding-top: var(--sz-space-xl);
    border-top: 1px solid var(--sz-border-light);
  }

  .sz-comments-title {
    font-family: var(--sz-font-heading);
    font-size: var(--sz-text-xl);
    font-weight: 600;
    color: var(--sz-primary-dark);
    margin: 0 0 var(--sz-space-xl) 0;
  }

  .sz-comment-form-wrapper {
    background: var(--sz-white);
    padding: var(--sz-space-xl);
    border-radius: var(--sz-radius-md);
    margin-bottom: var(--sz-space-xl);
  }

  .sz-comment-form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--sz-space-md);
  }

  @media (max-width: 600px) {
    .sz-comment-form-row {
      grid-template-columns: 1fr;
    }
  }

  .sz-comments-list {
    display: flex;
    flex-direction: column;
    gap: var(--sz-space-lg);
  }

  .sz-comment {
    background: var(--sz-white);
    padding: var(--sz-space-lg);
    border-radius: var(--sz-radius-md);
  }

  .sz-comment-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--sz-space-sm);
  }

  .sz-comment-author {
    font-family: var(--sz-font-body);
    font-weight: 600;
    color: var(--sz-charcoal);
  }

  .sz-comment-header time {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-sm);
    color: var(--sz-gray);
  }

  .sz-comment-body {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-base);
    color: var(--sz-charcoal);
    line-height: 1.6;
  }

  /* Related Articles */
  .sz-related-articles {
    margin-top: var(--sz-space-2xl);
    padding-top: var(--sz-space-xl);
    border-top: 1px solid var(--sz-border-light);
  }

  .sz-related-title {
    font-family: var(--sz-font-heading);
    font-size: var(--sz-text-xl);
    font-weight: 600;
    color: var(--sz-primary-dark);
    margin: 0 0 var(--sz-space-xl) 0;
    text-align: center;
  }

  .sz-related-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--sz-space-lg);
  }

  @media (max-width: 700px) {
    .sz-related-grid {
      grid-template-columns: 1fr;
    }
  }

  .sz-related-card {
    background: var(--sz-white);
    border-radius: var(--sz-radius-md);
    overflow: hidden;
    transition: box-shadow var(--sz-transition-normal);
  }

  .sz-related-card:hover {
    box-shadow: var(--sz-shadow-md);
  }

  .sz-related-link {
    display: block;
    text-decoration: none;
    color: inherit;
  }

  .sz-related-image {
    aspect-ratio: 16/10;
    background: var(--sz-beige);
    overflow: hidden;
  }

  .sz-related-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--sz-transition-normal);
  }

  .sz-related-card:hover .sz-related-image img {
    transform: scale(1.05);
  }

  .sz-related-info {
    padding: var(--sz-space-md);
  }

  .sz-related-article-title {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-base);
    font-weight: 500;
    color: var(--sz-charcoal);
    margin: 0 0 var(--sz-space-xs) 0;
    line-height: 1.3;
  }

  .sz-related-info time {
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-xs);
    color: var(--sz-gray);
  }

  /* Back to Blog */
  .sz-back-to-blog {
    margin-top: var(--sz-space-2xl);
    text-align: center;
  }

  .sz-back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--sz-space-sm);
    font-family: var(--sz-font-body);
    font-size: var(--sz-text-base);
    color: var(--sz-primary);
    text-decoration: none;
    transition: gap var(--sz-transition-fast);
  }

  .sz-back-link:hover {
    gap: var(--sz-space-md);
  }
</style>
