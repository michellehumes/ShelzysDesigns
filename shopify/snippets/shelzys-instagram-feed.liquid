{% comment %}
  Instagram Feed Section
  Note: This requires either:
  1. Instafeed app from Shopify App Store (free tier available)
  2. Or manually embedding Instagram posts

  This snippet provides the container and styling.
  You'll need to connect your Instagram account via an app.
{% endcomment %}

<style>
  .shelzy-instagram {
    padding: 60px 20px;
    background: #faf9f7;
  }

  .shelzy-instagram-header {
    text-align: center;
    margin-bottom: 40px;
  }

  .shelzy-instagram-title {
    font-size: 32px;
    color: #321004;
    margin: 0 0 12px 0;
  }

  .shelzy-instagram-handle {
    font-size: 16px;
    color: #666;
  }

  .shelzy-instagram-handle a {
    color: #321004;
    text-decoration: none;
    font-weight: 600;
  }

  .shelzy-instagram-handle a:hover {
    text-decoration: underline;
  }

  .shelzy-instagram-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 4px;
    max-width: 1200px;
    margin: 0 auto;
  }

  @media (max-width: 900px) {
    .shelzy-instagram-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 500px) {
    .shelzy-instagram-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .shelzy-instagram-item {
    aspect-ratio: 1;
    overflow: hidden;
    position: relative;
  }

  .shelzy-instagram-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
  }

  .shelzy-instagram-item:hover img {
    transform: scale(1.05);
  }

  .shelzy-instagram-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(50, 16, 4, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .shelzy-instagram-item:hover .shelzy-instagram-overlay {
    opacity: 1;
  }

  .shelzy-instagram-overlay svg {
    width: 32px;
    height: 32px;
    color: #fff;
  }

  .shelzy-instagram-cta {
    text-align: center;
    margin-top: 40px;
  }

  .shelzy-instagram-cta a {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 14px 28px;
    background: #321004;
    color: #fff;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: background 0.2s;
  }

  .shelzy-instagram-cta a:hover {
    background: #4a1a08;
  }

  .shelzy-instagram-cta svg {
    width: 20px;
    height: 20px;
  }

  /* Placeholder for when no feed is connected */
  .shelzy-instagram-placeholder {
    text-align: center;
    padding: 40px;
    color: #666;
  }

  .shelzy-instagram-placeholder p {
    margin: 0 0 16px 0;
  }
</style>

{%- assign instagram_handle = section.settings.instagram_handle | default: 'shelzysdesigns' -%}
{%- assign instagram_url = 'https://instagram.com/' | append: instagram_handle -%}

<section class="shelzy-instagram">
  <div class="shelzy-instagram-header">
    <h2 class="shelzy-instagram-title">{{ section.settings.heading | default: 'Follow Our Journey' }}</h2>
    <p class="shelzy-instagram-handle">
      <a href="{{ instagram_url }}" target="_blank" rel="noopener">@{{ instagram_handle }}</a>
    </p>
  </div>

  <div class="shelzy-instagram-grid" id="instafeed">
    {% comment %}
      If using Instafeed app, it will populate this div automatically.

      For manual implementation, add your images like this:
    {% endcomment %}

    {% if section.settings.image_1 %}
      <a href="{{ instagram_url }}" target="_blank" rel="noopener" class="shelzy-instagram-item">
        <img src="{{ section.settings.image_1 | image_url: width: 400 }}" alt="Instagram post">
        <div class="shelzy-instagram-overlay">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
          </svg>
        </div>
      </a>
    {% endif %}

    {% comment %} Repeat for images 2-6 {% endcomment %}
  </div>

  {% comment %} Show placeholder if no images configured {% endcomment %}
  {% unless section.settings.image_1 %}
    <div class="shelzy-instagram-placeholder">
      <p>Install the <strong>Instafeed</strong> app to automatically display your Instagram posts here.</p>
      <p>Or configure images manually in the theme editor.</p>
    </div>
  {% endunless %}

  <div class="shelzy-instagram-cta">
    <a href="{{ instagram_url }}" target="_blank" rel="noopener">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"/>
      </svg>
      Follow @{{ instagram_handle }}
    </a>
  </div>
</section>

{% schema %}
{
  "name": "Instagram Feed",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Follow Our Journey"
    },
    {
      "type": "text",
      "id": "instagram_handle",
      "label": "Instagram Handle",
      "default": "shelzysdesigns",
      "info": "Just the username, without @"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Image 1"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Image 2"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Image 3"
    },
    {
      "type": "image_picker",
      "id": "image_4",
      "label": "Image 4"
    },
    {
      "type": "image_picker",
      "id": "image_5",
      "label": "Image 5"
    },
    {
      "type": "image_picker",
      "id": "image_6",
      "label": "Image 6"
    }
  ],
  "presets": [
    {
      "name": "Instagram Feed"
    }
  ]
}
{% endschema %}
