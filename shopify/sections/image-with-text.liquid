{%- comment -%}
  Shelzy's Designs - Image with Text Section
  Flexible content block with image and text
{%- endcomment -%}

<section class="sz-image-text sz-image-text--{{ section.settings.layout }}" style="background: {{ section.settings.background_color }};">
  <div class="sz-image-text-inner {% if section.settings.full_width %}sz-image-text--full{% endif %}">

    <div class="sz-image-text-media">
      {%- if section.settings.image != blank -%}
        <img
          src="{{ section.settings.image | image_url: width: 1200 }}"
          alt="{{ section.settings.image.alt | escape }}"
          loading="lazy"
          class="sz-image-text-img"
        >
      {%- elsif section.settings.video_url != blank -%}
        <div class="sz-image-text-video">
          {%- if section.settings.video_url contains 'youtube' or section.settings.video_url contains 'youtu.be' -%}
            {%- assign video_id = section.settings.video_url | split: 'v=' | last | split: '&' | first -%}
            {%- if section.settings.video_url contains 'youtu.be' -%}
              {%- assign video_id = section.settings.video_url | split: 'youtu.be/' | last | split: '?' | first -%}
            {%- endif -%}
            <iframe
              src="https://www.youtube.com/embed/{{ video_id }}"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          {%- elsif section.settings.video_url contains 'vimeo' -%}
            {%- assign video_id = section.settings.video_url | split: 'vimeo.com/' | last | split: '?' | first -%}
            <iframe
              src="https://player.vimeo.com/video/{{ video_id }}"
              frameborder="0"
              allow="autoplay; fullscreen; picture-in-picture"
              allowfullscreen
            ></iframe>
          {%- endif -%}
        </div>
      {%- else -%}
        <div class="sz-image-text-placeholder">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>
          </svg>
        </div>
      {%- endif -%}
    </div>

    <div class="sz-image-text-content" style="text-align: {{ section.settings.text_alignment }};">
      <div class="sz-image-text-content-inner">
        {%- if section.settings.subheading != blank -%}
          <p class="sz-image-text-subheading" style="color: {{ section.settings.accent_color }};">{{ section.settings.subheading }}</p>
        {%- endif -%}

        {%- if section.settings.heading != blank -%}
          <h2 class="sz-image-text-heading" style="color: {{ section.settings.text_color }};">{{ section.settings.heading }}</h2>
        {%- endif -%}

        {%- if section.settings.text != blank -%}
          <div class="sz-image-text-text" style="color: {{ section.settings.text_color }};">
            {{ section.settings.text }}
          </div>
        {%- endif -%}

        {%- if section.settings.button_label != blank -%}
          <a href="{{ section.settings.button_link }}" class="sz-image-text-btn" style="background: {{ section.settings.button_color }}; color: {{ section.settings.button_text_color }};">
            {{ section.settings.button_label }}
          </a>
        {%- endif -%}
      </div>
    </div>

  </div>
</section>

{% style %}
  .sz-image-text {
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  }

  .sz-image-text-inner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0;
    max-width: 1400px;
    margin: 0 auto;
  }

  .sz-image-text--full {
    max-width: 100%;
  }

  .sz-image-text--full .sz-image-text-content {
    padding: 60px 80px;
  }

  @media (max-width: 1024px) {
    .sz-image-text-inner {
      grid-template-columns: 1fr;
    }

    .sz-image-text--full .sz-image-text-content {
      padding: 48px 24px;
    }
  }

  .sz-image-text--image-right .sz-image-text-media {
    order: 2;
  }

  .sz-image-text--image-right .sz-image-text-content {
    order: 1;
  }

  @media (max-width: 1024px) {
    .sz-image-text--image-right .sz-image-text-media,
    .sz-image-text--image-right .sz-image-text-content {
      order: unset;
    }
  }

  .sz-image-text-media {
    position: relative;
    aspect-ratio: {{ section.settings.image_ratio }};
    overflow: hidden;
  }

  @media (max-width: 1024px) {
    .sz-image-text-media {
      aspect-ratio: 4/3;
    }
  }

  .sz-image-text-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .sz-image-text-video {
    width: 100%;
    height: 100%;
  }

  .sz-image-text-video iframe {
    width: 100%;
    height: 100%;
  }

  .sz-image-text-placeholder {
    width: 100%;
    height: 100%;
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #F5F2ED;
    color: #CCCCCC;
  }

  .sz-image-text-content {
    display: flex;
    align-items: center;
    padding: 60px 48px;
  }

  @media (max-width: 768px) {
    .sz-image-text-content {
      padding: 40px 24px;
    }
  }

  .sz-image-text-content-inner {
    max-width: 540px;
    width: 100%;
  }

  .sz-image-text-subheading {
    font-family: "Inter", sans-serif;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin: 0 0 16px 0;
  }

  .sz-image-text-heading {
    font-family: "Playfair Display", Georgia, serif;
    font-size: clamp(28px, 4vw, 40px);
    font-weight: 500;
    line-height: 1.2;
    margin: 0 0 20px 0;
  }

  .sz-image-text-text {
    font-family: "Inter", sans-serif;
    font-size: 16px;
    line-height: 1.7;
    margin-bottom: 28px;
    opacity: 0.9;
  }

  .sz-image-text-text p {
    margin: 0 0 16px 0;
  }

  .sz-image-text-text p:last-child {
    margin-bottom: 0;
  }

  .sz-image-text-btn {
    display: inline-block;
    padding: 16px 32px;
    font-family: "Inter", sans-serif;
    font-size: 14px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .sz-image-text-btn:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }
{% endstyle %}

{% schema %}
{
  "name": "Image with Text",
  "tag": "section",
  "class": "sz-image-text-section",
  "settings": [
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        { "value": "image-left", "label": "Image left" },
        { "value": "image-right", "label": "Image right" }
      ],
      "default": "image-left"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": false
    },
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "video_url",
      "label": "Video URL (optional)",
      "info": "YouTube or Vimeo link. Overrides image if set."
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "Image ratio",
      "options": [
        { "value": "3/4", "label": "Portrait (3:4)" },
        { "value": "1/1", "label": "Square (1:1)" },
        { "value": "4/3", "label": "Landscape (4:3)" }
      ],
      "default": "1/1"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Our Story"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Crafted with Love"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Every bottle we create is made with care and attention to detail. Our sublimation printing process ensures your design lasts forever â€” no vinyl, no peeling, just beautiful personalized bottles.</p>"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button color",
      "default": "#2C3E2D"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#1F1F1F"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#4E5F4A"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 120,
      "step": 8,
      "default": 0,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 120,
      "step": 8,
      "default": 0,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "Image with Text"
    }
  ]
}
{% endschema %}
