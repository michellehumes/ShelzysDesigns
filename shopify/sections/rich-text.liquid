{%- comment -%}
  Shelzy's Designs - Rich Text Section
  Flexible text content block
{%- endcomment -%}

<section class="sz-rich-text" style="background: {{ section.settings.background_color }};">
  <div class="sz-rich-text-inner sz-rich-text--{{ section.settings.width }}" style="text-align: {{ section.settings.text_alignment }};">

    {%- for block in section.blocks -%}
      {%- case block.type -%}

        {%- when 'subheading' -%}
          <p class="sz-rich-text-subheading" {{ block.shopify_attributes }} style="color: {{ section.settings.accent_color }};">
            {{ block.settings.text }}
          </p>

        {%- when 'heading' -%}
          <{{ block.settings.heading_size }} class="sz-rich-text-heading" {{ block.shopify_attributes }} style="color: {{ section.settings.text_color }};">
            {{ block.settings.text }}
          </{{ block.settings.heading_size }}>

        {%- when 'text' -%}
          <div class="sz-rich-text-text" {{ block.shopify_attributes }} style="color: {{ section.settings.text_color }};">
            {{ block.settings.text }}
          </div>

        {%- when 'button' -%}
          <a href="{{ block.settings.link }}" class="sz-rich-text-btn sz-rich-text-btn--{{ block.settings.style }}" {{ block.shopify_attributes }}
            style="
              {%- if block.settings.style == 'primary' -%}
                background: {{ section.settings.button_color }}; color: {{ section.settings.button_text_color }};
              {%- else -%}
                border-color: {{ section.settings.button_color }}; color: {{ section.settings.button_color }};
              {%- endif -%}
            ">
            {{ block.settings.label }}
          </a>

        {%- when 'divider' -%}
          <hr class="sz-rich-text-divider" {{ block.shopify_attributes }} style="border-color: {{ section.settings.divider_color }};">

        {%- when 'icon_list' -%}
          <div class="sz-rich-text-icons" {{ block.shopify_attributes }}>
            {%- assign items = block.settings.items | split: '|' -%}
            {%- for item in items -%}
              <div class="sz-rich-text-icon-item">
                <span class="sz-rich-text-icon" style="color: {{ section.settings.accent_color }};">
                  {%- case block.settings.icon -%}
                    {%- when 'check' -%}
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                    {%- when 'star' -%}
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                    {%- when 'heart' -%}
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    {%- when 'truck' -%}
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>
                    {%- when 'shield' -%}
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                  {%- endcase -%}
                </span>
                <span class="sz-rich-text-icon-text" style="color: {{ section.settings.text_color }};">{{ item | strip }}</span>
              </div>
            {%- endfor -%}
          </div>

      {%- endcase -%}
    {%- endfor -%}

  </div>
</section>

{% style %}
  .sz-rich-text {
    padding: {{ section.settings.padding_top }}px 24px {{ section.settings.padding_bottom }}px;
  }

  .sz-rich-text-inner {
    margin: 0 auto;
  }

  .sz-rich-text--small { max-width: 600px; }
  .sz-rich-text--medium { max-width: 800px; }
  .sz-rich-text--large { max-width: 1000px; }
  .sz-rich-text--full { max-width: 1400px; }

  .sz-rich-text-subheading {
    font-family: "Inter", sans-serif;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin: 0 0 16px 0;
  }

  .sz-rich-text-heading {
    font-family: "Montserrat", sans-serif;
    font-weight: 500;
    line-height: 1.2;
    margin: 0 0 20px 0;
  }

  h1.sz-rich-text-heading { font-size: clamp(36px, 5vw, 56px); }
  h2.sz-rich-text-heading { font-size: clamp(28px, 4vw, 42px); }
  h3.sz-rich-text-heading { font-size: clamp(24px, 3vw, 32px); }

  .sz-rich-text-text {
    font-family: "Inter", sans-serif;
    font-size: 16px;
    line-height: 1.7;
    margin-bottom: 24px;
    opacity: 0.9;
  }

  .sz-rich-text-text p {
    margin: 0 0 16px 0;
  }

  .sz-rich-text-text p:last-child {
    margin-bottom: 0;
  }

  .sz-rich-text-btn {
    display: inline-block;
    padding: 16px 32px;
    font-family: "Inter", sans-serif;
    font-size: 14px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    margin-top: 8px;
  }

  .sz-rich-text-btn--secondary {
    background: transparent;
    border: 2px solid;
  }

  .sz-rich-text-btn:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }

  .sz-rich-text-divider {
    border: none;
    border-top: 1px solid;
    margin: 32px 0;
    opacity: 0.2;
  }

  .sz-rich-text-icons {
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    justify-content: {{ section.settings.text_alignment }};
    margin-top: 24px;
  }

  .sz-rich-text-icon-item {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .sz-rich-text-icon {
    display: flex;
    align-items: center;
  }

  .sz-rich-text-icon-text {
    font-family: "Inter", sans-serif;
    font-size: 15px;
    font-weight: 500;
  }
{% endstyle %}

{% schema %}
{
  "name": "Rich Text",
  "tag": "section",
  "class": "sz-rich-text-section",
  "settings": [
    {
      "type": "select",
      "id": "width",
      "label": "Content width",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" },
        { "value": "full", "label": "Full" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#1F1F1F"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#fb5887"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button color",
      "default": "#2C3E2D"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "divider_color",
      "label": "Divider color",
      "default": "#1F1F1F"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 120,
      "step": 8,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 120,
      "step": 8,
      "default": 80,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "subheading",
      "name": "Subheading",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "Our Promise"
        }
      ]
    },
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "Quality That Lasts"
        },
        {
          "type": "select",
          "id": "heading_size",
          "label": "Size",
          "options": [
            { "value": "h1", "label": "Large" },
            { "value": "h2", "label": "Medium" },
            { "value": "h3", "label": "Small" }
          ],
          "default": "h2"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Our sublimation printing process creates permanent, vibrant designs that won't peel, fade, or crack. Unlike vinyl, our prints become part of the bottle itself.</p>"
        }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "style",
          "label": "Style",
          "options": [
            { "value": "primary", "label": "Primary (filled)" },
            { "value": "secondary", "label": "Secondary (outline)" }
          ],
          "default": "primary"
        }
      ]
    },
    {
      "type": "divider",
      "name": "Divider"
    },
    {
      "type": "icon_list",
      "name": "Icon List",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "check", "label": "Check" },
            { "value": "star", "label": "Star" },
            { "value": "heart", "label": "Heart" },
            { "value": "truck", "label": "Shipping" },
            { "value": "shield", "label": "Shield" }
          ],
          "default": "check"
        },
        {
          "type": "textarea",
          "id": "items",
          "label": "Items (separated by |)",
          "default": "Free Shipping Over $75 | Dishwasher Safe | 30-Day Returns"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rich Text",
      "blocks": [
        {
          "type": "subheading",
          "settings": {
            "text": "Why Choose Us"
          }
        },
        {
          "type": "heading",
          "settings": {
            "text": "Permanent Sublimation Printing"
          }
        },
        {
          "type": "text",
          "settings": {
            "text": "<p>Unlike vinyl that peels and cracks, our sublimation printing process infuses the design directly into the bottle coating. The result? Vibrant, long-lasting personalization that looks amazing wash after wash.</p>"
          }
        },
        {
          "type": "icon_list",
          "settings": {
            "icon": "check",
            "items": "No Vinyl | No Peeling | Dishwasher Safe"
          }
        },
        {
          "type": "button",
          "settings": {
            "label": "Shop Best Sellers",
            "link": "/collections/best-sellers"
          }
        }
      ]
    }
  ]
}
{% endschema %}
